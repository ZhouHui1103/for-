# PRD: SOP-L (Standard Operating Procedure Lifecycle) 框架

**版本**: 1.1

| 版本 | 日期       | 修改人 | 备注 |
| :--- | :--- | :--- | :--- |
| 1.1 | YYYY-MM-DD | @SiliconLuo | 根据TASK-002，添加版本日志系统。 |
| 1.0 | (初始日期) | @SiliconLuo | 初始版本 |

---

## 1. 文档概述 (Overview)

本文档是 `SOP-Lifecycle` (简称 SOP-L) 框架的产品需求文档 (PRD)。SOP-L 是一套用于设计、生成和维护结构化业务流程文档的综合性方法论和工具集，其所有规范与模板均存放于 `/process-protocol` 目录下。

本文档旨在清晰阐述 SOP-L 框架的设计理念、核心构成、标准工作流和维护原则，为所有使用者和维护者提供统一的参考基准。

## 2. 背景与目标 (Background & Goals)

### 2.1. 背景

在快速变化的业务环境中，业务流程往往以零散、非结构化的形式存在于不同文档或员工的经验中，导致以下问题：
- **一致性差**: 不同团队、不同时期的流程文档风格迥异，难以理解和执行。
- **追溯性难**: 当业务需求变更时，难以快速定位并评估其对现有流程的影响。
- **自动化壁垒**: 非结构化的文档无法被机器读取，阻碍了流程自动化和智能化工具的引入。
- **维护成本高**: 流程的迭代和优化缺乏系统性指导，导致文档更新滞后于实际业务。

SOP-L 框架旨在解决上述问题，建立一套从业务需求到可执行SOP的、严谨且敏捷的转化路径。

### 2.2. 核心目标

- **标准化 (Standardization)**: 建立统一的元数据、流程架构和SOP文档规范，确保所有产出物的一致性。
- **结构化与可追溯性 (Structure & Traceability)**: 通过“单一事实来源” (`.json` 核心元数据) 和连锁更新法则，确保从对象定义到SOP步骤的每一环都清晰可溯。
- **自动化就绪 (Automation-Ready)**: 产出机器可读的 `.json` 文件，为未来开发流程自动化、智能提醒、数据看板等辅助工具奠定基础。
- **敏捷迭代 (Agile Iteration)**: 定义清晰的变更管理流程，使得业务流程能够快速、安全地响应变化。

## 3. 核心概念 (Core Concepts)

SOP-L 框架建立在一组核心概念之上：

- **核心元数据 (Core Metadata)**: 业务的基石，是对业务世界中核心实体、参与者和交互空间的抽象定义。它包含三大要素：
    - **对象 (Object)**: 业务流程的核心实体，其“状态”的流转驱动着流程的进行。例如：`服务进程`、`订单信息`。
    - **角色 (Role)**: 业务流程的参与者，其职责通过与“对象”的交互来定义。例如：`督导师`、`支撑运营`。
    - **场域 (Field)**: 业务活动发生的上下文空间，承载信息的流动与存储。例如：`客户服务群` (群聊)、`全域跟踪总表` (数据表)。
- **流程架构 (Process Architecture - L2.5)**: 连接“元数据”和“SOP”的桥梁。它将“对象”的状态演变，系统性地映射为一系列 L3 流程及其核心阶段 (L4)。
- **SOP (Standard Operating Procedure - L3/L4/L5/L6)**: 最精细的执行手册，详细描述了为完成特定业务目标所需的、由具体“角色”执行的、在特定“场域”中发生的连续动作。

## 4. 系统构成：`/process-protocol` 目录详解

本框架由一套规范文档和配套模板组成，统一存放在 `process-protocol` 目录下。

- **`业务流程设计工作流规范.md`**: **(框架核心)**
  - **用途**: 整个SOP-L框架的“SOP”，定义了从接收需求到交付SOP草稿的端到端标准流程。**所有使用者都应首先阅读并遵循此规范。**

- **`元数据/`**:
  - `核心元数据定义规范.md`: 指导如何定义“对象”、“角色”、“场域”。
  - `核心元数据定义模板.md`: 用于创建人类可读的 `[业务域] L2 - 核心元数据定义.md` 文件。
  - `JSON定义规范与模板.md`: 定义了将元数据转化为机器可读的 `.json` 文件的标准结构。

- **`流程架构/`**:
  - `流程架构规范.md`: 指导如何基于元数据构建 L2.5 流程架构。
  - `流程架构模板.md`: 用于创建 `[业务域] L2 - 流程架构.md` 文件。

- **`SOP/`**:
  - `SOP核心规范.md`: 指导如何编写清晰、可执行的 L3-SOP 文档。
  - `SOP模板.md`: 用于创建具体的 `L3 - [流程名称].md` 文件。

## 5. 标准工作流 (Standard Workflow)

工作流严格遵循 `业务流程设计工作流规范.md` 中定义的步骤：

1.  **STEP 1: 定义核心元数据**:
    - **输入**: 业务需求。
    - **动作**: 识别对象、角色、场域，编写 `L2 - 核心元数据定义.md`，并生成对应的 `.json` 文件。
    - **产出**: `.md` 和 `.json` 两种格式的元数据定义。
    - **关键点**: JSON 文件是后续所有步骤的“单一事实来源”。

2.  **STEP 2: 构建流程架构**:
    - **输入**: 上一步确认的 `.json` 文件。
    - **动作**: 编写 `L2 - 流程架构.md`，将对象状态流转映射为L4阶段。
    - **产出**: 流程架构图表。

3.  **STEP 3: 批量生成L3-SOP草稿**:
    - **输入**: 确认的流程架构和 `.json` 文件。
    - **动作**: 依据架构和元数据，自动生成一系列L3-SOP草稿。数据/协作类步骤被精准生成，复杂人工步骤则留白待填。
    - **产出**: 一系列结构化的SOP草稿文档。

4.  **STEP 4: 交付与迭代**:
    - **动作**: 交付SOP清单和待办事项索引，交由业务专家填充留白内容。

*注：每个关键步骤后都设有 `CHECKPOINT`，需要人工审核确认，确保共识。*

## 6. 维护与变更管理 (Maintenance & Change Management)

本框架遵循“上游变更，下游同步”的黄金法则。

- **修改核心元数据 (`.md` & `.json`)**:
  - **必须** 重新审视并可能修改 `L2 - 流程架构`。
  - **可能** 需要修改一个或多个 `L3-SOP`。
- **修改流程架构**:
  - **必须** 对应增/删/改 `L3-SOP` 文件或其内部的L4/L5结构。

所有变更都应通过版本控制（如Git）进行管理，并在相关文档的“版本日志”中留下记录。

## 7. 未来展望 (Roadmap)

- [ ] **命令行工具 (CLI)**: 开发一个CLI工具，可交互式地引导用户完成上述工作流，并自动执行文件生成、校验和更新任务。
- [ ] **可视化看板 (Visual Dashboard)**: 基于 `.json` 文件，自动生成一个Web页面，可视化展示所有业务对象、状态及其关联的SOP，提供全局业务视图。
- [ ] **与项目管理工具集成**: 实现与飞书、Jira等工具的集成，当SOP中的某个对象状态变更时，能自动触发项目管理工具中的任务创建或状态更新。 