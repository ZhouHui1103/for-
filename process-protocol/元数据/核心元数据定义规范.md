# 核心元数据定义规范

**版本**: 1.1

| 版本 | 日期       | 修改人 | 备注 |
| :--- | :--- | :--- | :--- |
| 1.1 | YYYY-MM-DD | @SiliconLuo | 根据TASK-002，添加版本日志系统。 |
| 1.0 | (初始日期) | @SiliconLuo | 初始版本 |

---

### 一、核心设计哲学

本规范旨在指导您如何使用《核心元数据定义模板》来构建一份清晰、严谨、可落地的L2级业务元数据定义。这份定义是后续所有流程设计、系统搭建、数据分析的“单一事实来源”。请始终遵循以下核心原则：

1.  **对象为本 (Object-First)**：一切业务流程、角色职责、乃至系统设计的起点，都源于对真实业务世界中核心“实体”（即**对象**）的精准定义。先有对象，再有流程。
2.  **状态驱动流程 (State-Drives-Process)**：对象的“状态”流转是SOP（L3流程）设计的直接依据。每个状态的变迁（如`待审核` -> `已发布`），都必须有对应的流程来驱动和实现。
3.  **角色源于交互 (Role-From-Interaction)**：角色不是凭空设定的，而是从“谁来维护、执行、负责、审核对象数据”的交互关系中自然推演出来的。
4.  **场域承载交互 (Field-Carries-Interaction)**: 对象的状态流转和角色的协作，都发生在具体的“场域”之中。场域是流程发生的上下文，定义了信息流动和储存的方式。

---

### 二、核心元数据定义详解

#### **第零步：创建文档**
- 复制《核心元数据定义模板》的内容。
- 创建一个新Markdown文件，命名格式为：`[业务域] L2 - 核心元数据定义.md`。例如：`ADHD督导业务 L2 - 核心元数据定义.md`。
- **强制性规则**: 所有`核心对象`、`核心角色`、`核心场域`的识别和定义，其唯一且必须的输入是已批准的`L1 业务场景`文档。严禁脱离`L1`引入任何元数据。

---

#### **第一部分：对象定义**

##### **模块/层次划分**
- 业务对象按照模块/层次进行组织，确保关联紧密的对象归类管理。参考分层架构：
  - **项目层**：围绕项目管理的核心对象，如项目、里程碑事件、项目测试计划等
  - **人力层**：围绕人力资源和团队管理的对象，如账号小组、客户信息、人员信息等  
  - **内容策略层**：围绕内容生产和策略的对象，如基座卡片、内容卡片、素材卡片等
  - **任务排期层**：围绕具体执行任务的对象，如项目策略动作、内容生产计划等
  - **数据转化层**：围绕效果数据的对象，如笔记数据、私信数据、线索回传等
  - **财务层**：围绕成本和收益的对象，如最小要素记录、整体要素统计等

##### **对象总览**
- 此部分是一个快速索引表，用最精炼的语言呈现业务全貌。
- **所属模块/层次**: 标明该对象属于哪个业务模块，便于理解其在整体架构中的位置。
- **对象名称**: 使用 `代码块` 格式，填写唯一、明确的业务对象名。例如：`服务进程`。
- **一句话定义**: 精准概括该对象是什么。例如：`一次完整的客户服务交付过程`。
- **核心属性**: 列出该对象最重要的几个内建属性，便于快速理解其特性。例如：`长续` `状态变量` `目标属性`。
- **维护角色**: 定义在`角色关系`中的`维护角色`，负责录入和更新数据。
- **执行角色**: 定义在`角色关系`中的`执行角色`，负责执行产生此数据的动作。
- **责任角色**: 定义在`角色关系`中的`责任角色`，对此对象的核心业务指标负责。

##### **对象明细**
- 这是文档的核心，需要为每个对象建立一个独立的明细模块。

- **所属模块/层次**: 明确标注该对象所属的业务模块/层次。
- **概述**: 再次强调该对象的一句话定义。
- **属性**: 使用 `[x]` / `[ ]` 来标示该对象的内建特性。一个对象可拥有多个属性。这些属性将自动推导出对应的数据字段结构。
  - `存续性`:
    - `[x] 短期`: 对象有明确的生命周期，最终会完结。如：`内容生产计划`。
    - `[ ] 长续`: 对象在业务中长期存在，作为数据的根基。如：`客户信息`。
  - `主动性`:
    - `[x] 状态变量`: 对象自身有状态流转，是流程驱动的核心。如：`项目`从“待启动”变为“测试中”。
    - `[ ] 被动承接`: 对象主要作为数据容器，自身状态不发生或很少发生变化。如：`人员信息`。
  - `业务特征`:
    - `[x] 目标属性`: 该对象是业务要评估和优化的核心目标，通常会关联`评估指标`。如：`内容卡片`的效果。
    - `[x] 任务属性`: 该对象是一个待完成的任务，通常由另一个`状态变量`的“状态变迁”需求而产生。如：`发布计划`。
    - `[x] 模块接口`: 该对象主要用于与其他模块进行数据交互。
    - `[x] 定期触发`: 表明应当存在一个流程，定期触发并产生这个对象的记录。
    - `[x] 督导属性`: 表明这个对象专门用来承接督导数据，一般和督导行为挂钩。
    - `[x] 版本管理`: 表明这个对象有版本属性，会存在同一行记录版本更新。
    - `[x] 二次数据`: 表明该对象的数据来源于其他对象的计算或汇总。
    - `[x] 指令属性`: 部分字段是指令方用于下指令的字段。
- **状态**: 清晰地列出该对象生命周期中所有**主要状态**的流转路径。使用 `->` 连接。例如：`待排期 -> 执行中 -> 已完成`。
- **类别**: 定义该对象的分类维度，便于筛选和管理。可有多个维度。例如，`内容卡片`的类别维度可以是“流量属性”和“驱动方式”。
- **角色关系**: 定义与该对象数据直接交互的角色。
  - `维护角色`: 负责录入和更新数据的人。
  - `执行角色`: 负责执行产生此数据的动作的人。
  - `责任角色`: 对此对象的核心业务指标负责的人。
  - `审核角色`: 负责审核数据准确性或流程节点的人。
- **对象关系**: 描述该对象与其他对象是否存在某种特定关系。
- **关联关系**: 描述该对象与其他实体的链接。
  - `关联场域`: 指向该对象的业务活动所涉及的沟通、存储、协作场域。
  - `关联文档`: 指向相关的SOP、指南或日志文档。
  - `关联报表`: 指向会统计或分析此对象数据的报表。
- **数据字段**: **根据属性自动推导的字段分类体系**
  
  > **重要说明**：以下字段分类严格基于对象属性推导生成。每个字段后标注 `[源属性]` 说明其推导来源。

##### **属性字段贡献机制**

每个对象属性都会按照固定逻辑向模板中的8个字段分类体系贡献特定字段。理解各属性的贡献逻辑，有助于系统性地构建完整的字段结构：

**核心贡献逻辑**：

**存续性属性**：
- **`短期`**：核心逻辑是追踪对象的生命周期进度
  - 向 `时间相关字段` 贡献：`提出时间`、`排期时间`、`实际验收时间`
  - 与 `状态变量` 组合时，向 `状态字段` 额外贡献时间维度的状态追踪
- **`长续`**：核心逻辑是记录对象的持续存在状态
  - 向 `时间相关字段` 贡献：`创建时间`、`最后更新时间`
  - 通常不直接影响状态字段，更多体现在数据容器特性

**主动性属性**：
- **`状态变量`**：核心逻辑是驱动业务流程的状态流转
  - 向 `状态字段` 强制贡献：`当前状态`（单选）、`状态变更时间`
  - 要求预先定义完整的状态流转路径，状态字段成为流程驱动的核心
- **`被动承接`**：核心逻辑是作为数据存储容器
  - 主要向 `文档字段` 和 `业务数据字段` 贡献存储型字段
  - 很少产生状态流转相关字段

**业务特征属性**：
- **`目标属性`**：核心逻辑是支持业务目标的量化评估
  - 向 `业务数据字段` 贡献：`目标数值`、`当前进度`、`评估等级`
  - 向 `公式字段` 自动贡献：`完成率`（计算公式）
  - 向 `角色字段` 强化：必须明确责任人来承担目标达成责任
  
- **`任务属性`**：核心逻辑是连接状态变迁需求与执行动作
  - 向 `关联字段` 强制贡献：`原始对象`（指向触发任务的源对象）
  - 向 `角色字段` 贡献：`提出人`、`审核人`、`督导人`、`执行人`
  - 向 `状态字段` 贡献：`任务状态`（已排期→执行中→已完成）
  - 向 `类别字段` 贡献：任务类型分类（通常关联原始对象状态或变迁动作）
  - 向 `时间字段` 贡献：`任务创建时间`、`任务截止时间`、`任务完成时间`

- **`督导属性`**：核心逻辑是支持过程监控和结果评估
  - 向 `业务数据字段` 贡献：`督导记录`、`督导评级`、`督导数值`
  - 向 `角色字段` 贡献：`督导人`、`被督导人`
  - 向 `时间字段` 贡献：`督导时间`
  - 向 `类别字段` 增加：`触发条件`，用于记录督导的触发机制
  - 向 `关联字段` 增加：`关联索引项`，用于指向具体的督导相关数据源
  - 督导数值通常为公式字段，基于督导记录计算
  - 

- **`版本管理`**：核心逻辑是追踪对象的演进历史
  - 向 `业务数据字段` 贡献：`版本号`、`版本描述`、`版本状态`
  - 向 `时间字段` 贡献：`版本创建时间`、`版本更新时间`
  - 与状态变量组合时，形成状态演进的历史追踪能力

- **`定期触发`**：核心逻辑是支持自动化的流程执行
  - 向 `类别字段` 贡献：`触发属性`
  - 向 `角色字段` 贡献：`触发处理人`
  - 向 `关联字段` 贡献：`触发作用的关联业务对象`
  - 向 `业务数据字段` 贡献：`执行状态`（或触发后的流程进程状态）
  - 当对象同时是督导对象时，督导对象作为特殊的触发对象，业务源为`任务排期`

- **`二次数据`**：核心逻辑是基于其他对象数据的计算汇总
  - 向 `业务数据字段` 贡献：`计算结果`、`数据来源`
  - 向 `关联字段` 贡献：`依赖对象`（多选关联）
  - 向 `时间字段` 贡献：`计算时间`
  - 计算结果通常为公式字段
  - 一般还有：`计算卡片`（即如何计算的）— 部分情况下会出现，计算卡片一般是另外一个被动承接的记录计算法则的对象

- **`指令属性`**：核心逻辑是支持上级向下级的指令传达
  - 向 `业务数据字段` 贡献：`指令内容`、`指令参数`、`指令状态`
  - 向 `角色字段` 强制贡献：`指令下达人`，且必须存在指令角色（通常与维护角色重合）
  - 在权限设计中，指令相关字段只允许指令角色编辑

- **`模块接口`**：核心逻辑是作为模块间数据交互的桥梁
  - 不直接贡献新字段，但影响其他对象的关联字段设计
  - 意味着其他模块的对象会通过关联字段指向本对象，实现跨模块数据流动

**属性组合的系统效应**：
- **完整任务管理** (`短期` + `状态变量` + `任务属性`)：生成包含时间线、状态流转、责任链、源头追溯的完整任务管理字段体系
- **持续目标监控** (`长续` + `目标属性` + `督导属性`)：生成包含目标设定、进度跟踪、评估计算、督导反馈的持续监控字段体系
- **版本化流程** (`状态变量` + `版本管理`)：生成支持状态演进历史记录和版本回溯的流程管理字段体系

  
  - `状态字段` **[基于存续性+主动性属性推导]**: 
    - **[状态变量]** → 必含：当前状态、状态变更时间
    - **[短期]** → 必含：提出时间、排期完成时间
    - **[任务属性]** → 必含：任务状态（已排期、执行中、已完成）
  
  - `类别字段` **[基于业务分类需求推导]**: 
    - **[类别定义]** → 基于对象类别设计产生的分类字段
    - **[任务属性]** → 必含：原始对象的状态或状态迁移动作
  
  - `关联字段` **[基于对象间关系推导]**: 
    - **[对象关系]** → 与其他对象的关联引用
    - **[任务属性]** → 必含：原始对象（关联）
    - **备注格式**：`关联对象名称（单选/多选｜筛选条件）` 
  
  - `角色/负责人字段` **[基于角色关系推导]**:
    - **[角色关系]** → 维护人、执行人、责任人、审核人
    - **[任务属性]** → 额外必含：提出人、负责人、督导人、执行人
  
  - `时间相关字段` **[基于存续性+业务特征推导]**:
    - **[短期]** → 提出时间、排期时间、实际验收时间
    - **[版本管理]** → 版本创建时间、版本更新时间
    - **[定期触发]** → 触发时间、下次触发时间
  
  - `业务数据字段` **[基于业务特征推导]**:
    - **[目标属性]** → 目标数值、评估指标相关字段
    - **[指令属性]** → 指令内容、指令参数
    - **[二次数据]** → 计算结果、数据来源标识
    - **[督导属性]** → 督导记录、督导评级
  
  - `文档字段` **[通用字段]**: 
    - 非关系型字段：描述、备注、详细说明等
  
  - `公式字段` **[计算推导字段]**: 
    - 标记格式：`字段名称(公式)` 
    - **备注格式**：`字段名称(公式) [= 计算逻辑说明]`
- **字段备注说明**: 为特殊字段提供详细说明，必须包含以下几类：
  - `关联字段备注`: 
    - **多选关联**：明确说明关联表格的列表范围和筛选条件
    - **格式**：`字段名称（多选｜关联表.筛选字段 = 筛选值）`
    - **示例**：`打样策划（多选｜人员信息.角色 = 外部策划）`
  - `公式字段备注`:
    - **计算逻辑**：详细说明公式的计算方法和数据来源
    - **格式**：`字段名称(公式) [= 具体计算公式或逻辑描述]`
    - **示例**：`完成率(公式) [= 已完成任务数/总任务数 * 100%]`
  - `筛选条件说明`:
    - 对于有筛选条件的关联字段，在此处详细说明筛选逻辑
    - **格式**：`当[条件]时，显示[范围]`
- **公式注明**: 如果某个字段是可以被公式直接计算的，在这里注明并简要说明计算逻辑。
- **审核说明**: 说明这个对象的审核流程。
- **评估指标**: （仅当具有`目标属性`时填写）如何评估时间长度或目标达成情况。
- **分配额度**: （仅当具有`任务属性`时填写）特定角色在周期时间内可以承接多少个这样的任务。
- **关联流程**: 哪个L3流程在驱动这个状态变量。
- **字段属性规范**: 参考飞书多维表格，为每个字段明确以下属性：
  - `字段类型`: 
    - **文本类**：单行文本、多行文本、富文本
    - **数字类**：数字、货币、百分比  
    - **选择类**：单选、多选、评分
    - **关联类**：人员、关联记录、反向关联
    - **时间类**：日期、创建时间、最后更新时间
    - **公式类**：公式、自动编号、汇总
    - **附件类**：附件、图片
  - `字段约束`:
    - **必填性**：必填/选填
    - **唯一性**：唯一/可重复
    - **编辑权限**：只读/可编辑/条件编辑
  - `字段格式`:
    - **数字格式**：整数、小数位数、千分位
    - **日期格式**：年月日、年月日时分、时间戳
    - **选择项**：选项列表及颜色标识
  - `默认值与校验`:
    - **默认值**：空值/固定值/公式生成
    - **校验规则**：数值范围、文本长度、正则表达式
- **文档模板与指南**: （仅当对象涉及文档表达时填写）
  - `关联模板`: 标注需要的文档模板及其路径
    - **格式**：`模板名称 - 模板路径/链接`
    - **示例**：`项目日志模板 - /templates/project-log.md`
  - `操作指南`: 标注相关的操作指南文档
    - **格式**：`指南名称 - 指南路径/链接`  
    - **示例**：`项目管理指南 - /guides/project-management.md`
  - `规范要求`: 标注文档格式、内容结构等规范要求
    - **格式要求**：文档格式标准（Markdown/Word/在线文档等）
    - **内容结构**：必需章节、可选章节
    - **更新频率**：文档更新的时间要求
- **储存场域**: 精确指出该对象数据主要储存在哪个`场域`中（分为表格场域 + 文档场域两种）。

---

#### **第二部分：角色定义**

##### **角色总览**
- 此部分用于快速理解人力资源的构成和职责划分。
- **外部角色**: 指在招募和组织管理上的统一角色单元。例如：`人力资源`。
- **内部细分角色**: 指在具体业务分配和薪酬设定时，对外部角色的进一步细分。例如：`HRBP`、`HRA`。如果内外角色一致，则两列填写相同名称。

##### **角色明细**
- 为每个**外部角色**建立一个独立的明细模块。

- **角色基础信息**: 明确角色的定义和构成。
- **核心权责**: 清晰界定角色的工作边界。
  - `负责的业务对象`: 列表说明该角色负责哪些对象的哪些环节（如：创建、审核、推进状态等）。**这是定义角色职责的核心**。
  - `负责的L3流程`: 列表说明该角色在哪些SOP中担任主要执行或监督职责。
- **生命周期定义**: 描述与人力资源管理相关的核心信息。
  - `招募与考核`: 定义此角色的准入门槛和选拔标准。
  - `培训与成长`: 定义新人的上手路径和长期发展的技能要求。
  - `薪酬绩效逻辑`: **简述**薪酬结构的核心逻辑，并明确指出该角色的绩效主要与哪些`业务对象`的`评估指标`强相关。

---

### 第三部分：场域定义

- **场域 (Field)** 是业务活动发生的上下文空间。它定义了信息的沟通、协作、存储和展现方式。一个定义清晰的场域是SOP能够顺利执行的基础。

- **场域类型**:
  - `群聊`: 用于即时沟通、快速同步、氛围营造。是敏捷响应和团队协作的主要场所。
    - 示例: `督导小队群` `客户服务群`
  - `文档`: 用于沉淀规范、SOP、项目报告、复盘纪要等非结构化或半结构化信息。是知识管理的核心载体。
    - 示例: `SOP-核心服务流程.md` `项目复盘报告.docx`
  - `数据表`: 用于结构化数据的记录、追踪和分析。是量化管理和业务洞察的基础。
    - `总表`: 通常是一个业务域的全局索引或仪表盘，用于宏观监控。例如，一个“全域跟踪总表”可以链接到所有进行中的服务。
    - `子表`: 通常与一个核心业务对象一一对应，是该对象所有实例的集合。例如，`服务进程子表`会记录每一个服务进程的详细数据。 